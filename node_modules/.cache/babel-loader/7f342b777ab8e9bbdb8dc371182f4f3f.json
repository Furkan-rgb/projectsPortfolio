{"ast":null,"code":"function extend(a, b) {\n  for (var key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n} // from http://www.quirksmode.org/js/events_properties.html#position\n\n\nexport function getMousePos(ef) {\n  var posx = 0,\n      posy = 0;\n  if (!ef) var ef = window.event;\n\n  if (ef.pageX || ef.pageY) {\n    posx = ef.pageX;\n    posy = ef.pageY;\n  } else if (ef.clientX || ef.clientY) {\n    posx = ef.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = ef.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n\n  return {\n    x: posx,\n    y: posy\n  };\n}\n/**\n * TiltFx obj.\n */\n\nexport default function TiltFx(el, options) {\n  this.DOM = {};\n  this.DOM.el = el;\n  this.options = extend({}, this.options);\n  extend(this.options, options);\n\n  this._init();\n}\nTiltFx.prototype.options = {\n  movement: {\n    imgWrapper: {\n      translation: {\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      rotation: {\n        x: -5,\n        y: 5,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1200,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    },\n    lines: {\n      translation: {\n        x: 10,\n        y: 10,\n        z: [0, 10]\n      },\n      reverseAnimation: {\n        duration: 1000,\n        easing: 'easeOutExpo',\n        elasticity: 600\n      }\n    },\n    caption: {\n      translation: {\n        x: 20,\n        y: 20,\n        z: 0\n      },\n      rotation: {\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1500,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    },\n\n    /*\n    overlay : {\n    \ttranslation : {x: 10, y: 10, z: [0,50]},\n    \treverseAnimation : {\n    \t\tduration : 500,\n    \t\teasing : 'easeOutExpo'\n    \t}\n    },\n    */\n    shine: {\n      translation: {\n        x: 50,\n        y: 50,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1200,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    }\n  }\n};\n/**\n * Init.\n */\n\nTiltFx.prototype._init = function () {\n  this.DOM.animatable = {};\n  this.DOM.animatable.imgWrapper = this.DOM.el.querySelector('.tilter__figure');\n  this.DOM.animatable.lines = this.DOM.el.querySelector('.tilter__deco--lines');\n  this.DOM.animatable.caption = this.DOM.el.querySelector('.tilter__caption');\n  this.DOM.animatable.overlay = this.DOM.el.querySelector('.tilter__deco--overlay');\n  this.DOM.animatable.shine = this.DOM.el.querySelector('.tilter__deco--shine > div');\n\n  this._initEvents();\n};\n/**\n * Init/Bind events.\n */\n\n\nTiltFx.prototype._initEvents = function () {\n  var self = this;\n\n  this.mouseenterFn = function () {\n    for (var key in self.DOM.animatable) {\n      anime.remove(self.DOM.animatable[key]);\n    }\n  };\n\n  this.mousemoveFn = function (ev) {\n    requestAnimationFrame(function () {\n      self._layout(ev);\n    });\n  };\n\n  this.mouseleaveFn = function (ev) {\n    requestAnimationFrame(function () {\n      for (var key in self.DOM.animatable) {\n        if (self.options.movement[key] == undefined) {\n          continue;\n        }\n\n        anime({\n          targets: self.DOM.animatable[key],\n          duration: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.duration || 0 : 1,\n          easing: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.easing || 'linear' : 'linear',\n          elasticity: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.elasticity || null : null,\n          scaleX: 1,\n          scaleY: 1,\n          scaleZ: 1,\n          translateX: 0,\n          translateY: 0,\n          translateZ: 0,\n          rotateX: 0,\n          rotateY: 0,\n          rotateZ: 0\n        });\n      }\n    });\n  };\n\n  this.DOM.el.addEventListener('mousemove', this.mousemoveFn);\n  this.DOM.el.addEventListener('mouseleave', this.mouseleaveFn);\n  this.DOM.el.addEventListener('mouseenter', this.mouseenterFn);\n};\n\nTiltFx.prototype._layout = function (ev) {\n  // Mouse position relative to the document.\n  var mousepos = getMousePos(ev),\n      // Document scrolls.\n  docScrolls = {\n    left: document.body.scrollLeft + document.documentElement.scrollLeft,\n    top: document.body.scrollTop + document.documentElement.scrollTop\n  },\n      bounds = this.DOM.el.getBoundingClientRect(),\n      // Mouse position relative to the main element (this.DOM.el).\n  relmousepos = {\n    x: mousepos.x - bounds.left - docScrolls.left,\n    y: mousepos.y - bounds.top - docScrolls.top\n  }; // Movement settings for the animatable elements.\n\n  for (var key in this.DOM.animatable) {\n    if (this.DOM.animatable[key] == undefined || this.options.movement[key] == undefined) {\n      continue;\n    }\n\n    var t = this.options.movement[key] != undefined ? this.options.movement[key].translation || {\n      x: 0,\n      y: 0,\n      z: 0\n    } : {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n        r = this.options.movement[key] != undefined ? this.options.movement[key].rotation || {\n      x: 0,\n      y: 0,\n      z: 0\n    } : {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n        setRange = function (obj) {\n      for (var k in obj) {\n        if (obj[k] == undefined) {\n          obj[k] = [0, 0];\n        } else if (typeof obj[k] === 'number') {\n          obj[k] = [-1 * obj[k], obj[k]];\n        }\n      }\n    };\n\n    setRange(t);\n    setRange(r);\n    var transforms = {\n      translation: {\n        x: (t.x[1] - t.x[0]) / bounds.width * relmousepos.x + t.x[0],\n        y: (t.y[1] - t.y[0]) / bounds.height * relmousepos.y + t.y[0],\n        z: (t.z[1] - t.z[0]) / bounds.height * relmousepos.y + t.z[0]\n      },\n      rotation: {\n        x: (r.x[1] - r.x[0]) / bounds.height * relmousepos.y + r.x[0],\n        y: (r.y[1] - r.y[0]) / bounds.width * relmousepos.x + r.y[0],\n        z: (r.z[1] - r.z[0]) / bounds.width * relmousepos.x + r.z[0]\n      }\n    };\n    this.DOM.animatable[key].style.WebkitTransform = this.DOM.animatable[key].style.transform = 'translateX(' + transforms.translation.x + 'px) translateY(' + transforms.translation.y + 'px) translateZ(' + transforms.translation.z + 'px) rotateX(' + transforms.rotation.x + 'deg) rotateY(' + transforms.rotation.y + 'deg) rotateZ(' + transforms.rotation.z + 'deg)';\n  }\n};\n\nwindow.TiltFx = TiltFx;","map":{"version":3,"sources":["/Users/furkan/Documents/AD-S3/AD_portfolio/projectsPortfolio/src/TiltHovers/TiltEngine.js"],"names":["extend","a","b","key","hasOwnProperty","getMousePos","ef","posx","posy","window","event","pageX","pageY","clientX","clientY","document","body","scrollLeft","documentElement","scrollTop","x","y","TiltFx","el","options","DOM","_init","prototype","movement","imgWrapper","translation","z","rotation","reverseAnimation","duration","easing","elasticity","lines","caption","shine","animatable","querySelector","overlay","_initEvents","self","mouseenterFn","anime","remove","mousemoveFn","ev","requestAnimationFrame","_layout","mouseleaveFn","undefined","targets","scaleX","scaleY","scaleZ","translateX","translateY","translateZ","rotateX","rotateY","rotateZ","addEventListener","mousepos","docScrolls","left","top","bounds","getBoundingClientRect","relmousepos","t","r","setRange","obj","k","transforms","width","height","style","WebkitTransform","transform"],"mappings":"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","sourcesContent":["function extend(a, b) {\n\tfor (var key in b) {\n\t\tif (b.hasOwnProperty(key)) {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\treturn a;\n}\n\n// from http://www.quirksmode.org/js/events_properties.html#position\nexport function getMousePos(ef) {\n\tvar posx = 0, posy = 0;\n\tif (!ef) var ef = window.event;\n\tif (ef.pageX || ef.pageY) {\n\t\tposx = ef.pageX;\n\t\tposy = ef.pageY;\n\t}\n\telse if (ef.clientX || ef.clientY) {\n\t\tposx = ef.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\tposy = ef.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t}\n\treturn { x: posx, y: posy }\n}\n\n/**\n * TiltFx obj.\n */\nexport default function TiltFx(el, options) {\n\tthis.DOM = {};\n\tthis.DOM.el = el;\n\tthis.options = extend({}, this.options);\n\textend(this.options, options);\n\tthis._init();\n}\n\nTiltFx.prototype.options = {\n\tmovement: {\n\t\timgWrapper: {\n\t\t\ttranslation: { x: 0, y: 0, z: 0 },\n\t\t\trotation: { x: -5, y: 5, z: 0 },\n\t\t\treverseAnimation: {\n\t\t\t\tduration: 1200,\n\t\t\t\teasing: 'easeOutElastic',\n\t\t\t\telasticity: 600\n\t\t\t}\n\t\t},\n\t\tlines: {\n\t\t\ttranslation: { x: 10, y: 10, z: [0, 10] },\n\t\t\treverseAnimation: {\n\t\t\t\tduration: 1000,\n\t\t\t\teasing: 'easeOutExpo',\n\t\t\t\telasticity: 600\n\t\t\t}\n\t\t},\n\t\tcaption: {\n\t\t\ttranslation: { x: 20, y: 20, z: 0 },\n\t\t\trotation: { x: 0, y: 0, z: 0 },\n\t\t\treverseAnimation: {\n\t\t\t\tduration: 1500,\n\t\t\t\teasing: 'easeOutElastic',\n\t\t\t\telasticity: 600\n\t\t\t}\n\t\t},\n\t\t/*\n\t\toverlay : {\n\t\t\ttranslation : {x: 10, y: 10, z: [0,50]},\n\t\t\treverseAnimation : {\n\t\t\t\tduration : 500,\n\t\t\t\teasing : 'easeOutExpo'\n\t\t\t}\n\t\t},\n\t\t*/\n\t\tshine: {\n\t\t\ttranslation: { x: 50, y: 50, z: 0 },\n\t\t\treverseAnimation: {\n\t\t\t\tduration: 1200,\n\t\t\t\teasing: 'easeOutElastic',\n\t\t\t\telasticity: 600\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Init.\n */\nTiltFx.prototype._init = function () {\n\tthis.DOM.animatable = {};\n\tthis.DOM.animatable.imgWrapper = this.DOM.el.querySelector('.tilter__figure');\n\tthis.DOM.animatable.lines = this.DOM.el.querySelector('.tilter__deco--lines');\n\tthis.DOM.animatable.caption = this.DOM.el.querySelector('.tilter__caption');\n\tthis.DOM.animatable.overlay = this.DOM.el.querySelector('.tilter__deco--overlay');\n\tthis.DOM.animatable.shine = this.DOM.el.querySelector('.tilter__deco--shine > div');\n\tthis._initEvents();\n};\n\n/**\n * Init/Bind events.\n */\nTiltFx.prototype._initEvents = function () {\n\tvar self = this;\n\n\tthis.mouseenterFn = function () {\n\t\tfor (var key in self.DOM.animatable) {\n\t\t\tanime.remove(self.DOM.animatable[key]);\n\t\t}\n\t};\n\n\tthis.mousemoveFn = function (ev) {\n\t\trequestAnimationFrame(function () { self._layout(ev); });\n\t};\n\n\tthis.mouseleaveFn = function (ev) {\n\t\trequestAnimationFrame(function () {\n\t\t\tfor (var key in self.DOM.animatable) {\n\t\t\t\tif (self.options.movement[key] == undefined) { continue; }\n\t\t\t\tanime({\n\t\t\t\t\ttargets: self.DOM.animatable[key],\n\t\t\t\t\tduration: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.duration || 0 : 1,\n\t\t\t\t\teasing: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.easing || 'linear' : 'linear',\n\t\t\t\t\telasticity: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.elasticity || null : null,\n\t\t\t\t\tscaleX: 1,\n\t\t\t\t\tscaleY: 1,\n\t\t\t\t\tscaleZ: 1,\n\t\t\t\t\ttranslateX: 0,\n\t\t\t\t\ttranslateY: 0,\n\t\t\t\t\ttranslateZ: 0,\n\t\t\t\t\trotateX: 0,\n\t\t\t\t\trotateY: 0,\n\t\t\t\t\trotateZ: 0\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.DOM.el.addEventListener('mousemove', this.mousemoveFn);\n\tthis.DOM.el.addEventListener('mouseleave', this.mouseleaveFn);\n\tthis.DOM.el.addEventListener('mouseenter', this.mouseenterFn);\n};\n\nTiltFx.prototype._layout = function (ev) {\n\t// Mouse position relative to the document.\n\tvar mousepos = getMousePos(ev),\n\t\t// Document scrolls.\n\t\tdocScrolls = { left: document.body.scrollLeft + document.documentElement.scrollLeft, top: document.body.scrollTop + document.documentElement.scrollTop },\n\t\tbounds = this.DOM.el.getBoundingClientRect(),\n\t\t// Mouse position relative to the main element (this.DOM.el).\n\t\trelmousepos = { x: mousepos.x - bounds.left - docScrolls.left, y: mousepos.y - bounds.top - docScrolls.top };\n\n\t// Movement settings for the animatable elements.\n\tfor (var key in this.DOM.animatable) {\n\t\tif (this.DOM.animatable[key] == undefined || this.options.movement[key] == undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tvar t = this.options.movement[key] != undefined ? this.options.movement[key].translation || { x: 0, y: 0, z: 0 } : { x: 0, y: 0, z: 0 },\n\t\t\tr = this.options.movement[key] != undefined ? this.options.movement[key].rotation || { x: 0, y: 0, z: 0 } : { x: 0, y: 0, z: 0 },\n\t\t\tsetRange = function (obj) {\n\t\t\t\tfor (var k in obj) {\n\t\t\t\t\tif (obj[k] == undefined) {\n\t\t\t\t\t\tobj[k] = [0, 0];\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof obj[k] === 'number') {\n\t\t\t\t\t\tobj[k] = [-1 * obj[k], obj[k]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tsetRange(t);\n\t\tsetRange(r);\n\n\t\tvar transforms = {\n\t\t\ttranslation: {\n\t\t\t\tx: (t.x[1] - t.x[0]) / bounds.width * relmousepos.x + t.x[0],\n\t\t\t\ty: (t.y[1] - t.y[0]) / bounds.height * relmousepos.y + t.y[0],\n\t\t\t\tz: (t.z[1] - t.z[0]) / bounds.height * relmousepos.y + t.z[0],\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tx: (r.x[1] - r.x[0]) / bounds.height * relmousepos.y + r.x[0],\n\t\t\t\ty: (r.y[1] - r.y[0]) / bounds.width * relmousepos.x + r.y[0],\n\t\t\t\tz: (r.z[1] - r.z[0]) / bounds.width * relmousepos.x + r.z[0]\n\t\t\t}\n\t\t};\n\n\t\tthis.DOM.animatable[key].style.WebkitTransform = this.DOM.animatable[key].style.transform = 'translateX(' + transforms.translation.x + 'px) translateY(' + transforms.translation.y + 'px) translateZ(' + transforms.translation.z + 'px) rotateX(' + transforms.rotation.x + 'deg) rotateY(' + transforms.rotation.y + 'deg) rotateZ(' + transforms.rotation.z + 'deg)';\n\t}\n};\n\nwindow.TiltFx = TiltFx;\n"]},"metadata":{},"sourceType":"module"}