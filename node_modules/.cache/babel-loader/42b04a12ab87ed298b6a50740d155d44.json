{"ast":null,"code":"import anime from 'animejs';\n\nfunction extend(a, b) {\n  for (var key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n} // from http://www.quirksmode.org/js/events_properties.html#position\n\n\nexport function getMousePos(ef) {\n  var posx = 0,\n      posy = 0;\n  if (!ef) var ef = window.event;\n\n  if (ef.pageX || ef.pageY) {\n    posx = ef.pageX;\n    posy = ef.pageY;\n  } else if (ef.clientX || ef.clientY) {\n    posx = ef.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = ef.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n\n  return {\n    x: posx,\n    y: posy\n  };\n}\n/**\n * TiltFx obj.\n */\n\nexport default function TiltFx(el, options) {\n  this.DOM = {};\n  this.DOM.el = el;\n  this.options = extend({}, this.options);\n  extend(this.options, options);\n\n  this._init();\n}\nTiltFx.prototype.options = {\n  movement: {\n    imgWrapper: {\n      translation: {\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      rotation: {\n        x: -5,\n        y: 5,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1200,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    },\n    lines: {\n      translation: {\n        x: 10,\n        y: 10,\n        z: [0, 10]\n      },\n      reverseAnimation: {\n        duration: 1000,\n        easing: 'easeOutExpo',\n        elasticity: 600\n      }\n    },\n    caption: {\n      translation: {\n        x: 20,\n        y: 20,\n        z: 0\n      },\n      rotation: {\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1500,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    },\n\n    /*\n    overlay : {\n    \ttranslation : {x: 10, y: 10, z: [0,50]},\n    \treverseAnimation : {\n    \t\tduration : 500,\n    \t\teasing : 'easeOutExpo'\n    \t}\n    },\n    */\n    shine: {\n      translation: {\n        x: 50,\n        y: 50,\n        z: 0\n      },\n      reverseAnimation: {\n        duration: 1200,\n        easing: 'easeOutElastic',\n        elasticity: 600\n      }\n    }\n  }\n};\n/**\n * Init.\n */\n\nTiltFx.prototype._init = function () {\n  this.DOM.animatable = {};\n  this.DOM.animatable.imgWrapper = this.DOM.el.querySelector('.tilter__figure');\n  this.DOM.animatable.lines = this.DOM.el.querySelector('.tilter__deco--lines');\n  this.DOM.animatable.caption = this.DOM.el.querySelector('.tilter__caption');\n  this.DOM.animatable.overlay = this.DOM.el.querySelector('.tilter__deco--overlay');\n  this.DOM.animatable.shine = this.DOM.el.querySelector('.tilter__deco--shine > div');\n\n  this._initEvents();\n};\n/**\n * Init/Bind events.\n */\n\n\nTiltFx.prototype._initEvents = function () {\n  var self = this;\n\n  this.mouseenterFn = function () {\n    for (var key in self.DOM.animatable) {\n      anime.remove(self.DOM.animatable[key]);\n    }\n  };\n\n  this.mousemoveFn = function (ev) {\n    requestAnimationFrame(function () {\n      self._layout(ev);\n    });\n  };\n\n  this.mouseleaveFn = function (ev) {\n    requestAnimationFrame(function () {\n      for (var key in self.DOM.animatable) {\n        if (self.options.movement[key] == undefined) {\n          continue;\n        }\n\n        anime({\n          targets: self.DOM.animatable[key],\n          duration: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.duration || 0 : 1,\n          easing: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.easing || 'linear' : 'linear',\n          elasticity: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.elasticity || null : null,\n          scaleX: 1,\n          scaleY: 1,\n          scaleZ: 1,\n          translateX: 0,\n          translateY: 0,\n          translateZ: 0,\n          rotateX: 0,\n          rotateY: 0,\n          rotateZ: 0\n        });\n      }\n    });\n  };\n\n  this.DOM.el.addEventListener('mousemove', this.mousemoveFn);\n  this.DOM.el.addEventListener('mouseleave', this.mouseleaveFn);\n  this.DOM.el.addEventListener('mouseenter', this.mouseenterFn);\n};\n\nTiltFx.prototype._layout = function (ev) {\n  // Mouse position relative to the document.\n  var mousepos = getMousePos(ev),\n      // Document scrolls.\n  docScrolls = {\n    left: document.body.scrollLeft + document.documentElement.scrollLeft,\n    top: document.body.scrollTop + document.documentElement.scrollTop\n  },\n      bounds = this.DOM.el.getBoundingClientRect(),\n      // Mouse position relative to the main element (this.DOM.el).\n  relmousepos = {\n    x: mousepos.x - bounds.left - docScrolls.left,\n    y: mousepos.y - bounds.top - docScrolls.top\n  }; // Movement settings for the animatable elements.\n\n  for (var key in this.DOM.animatable) {\n    if (this.DOM.animatable[key] == undefined || this.options.movement[key] == undefined) {\n      continue;\n    }\n\n    var t = this.options.movement[key] != undefined ? this.options.movement[key].translation || {\n      x: 0,\n      y: 0,\n      z: 0\n    } : {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n        r = this.options.movement[key] != undefined ? this.options.movement[key].rotation || {\n      x: 0,\n      y: 0,\n      z: 0\n    } : {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n        setRange = function (obj) {\n      for (var k in obj) {\n        if (obj[k] == undefined) {\n          obj[k] = [0, 0];\n        } else if (typeof obj[k] === 'number') {\n          obj[k] = [-1 * obj[k], obj[k]];\n        }\n      }\n    };\n\n    setRange(t);\n    setRange(r);\n    var transforms = {\n      translation: {\n        x: (t.x[1] - t.x[0]) / bounds.width * relmousepos.x + t.x[0],\n        y: (t.y[1] - t.y[0]) / bounds.height * relmousepos.y + t.y[0],\n        z: (t.z[1] - t.z[0]) / bounds.height * relmousepos.y + t.z[0]\n      },\n      rotation: {\n        x: (r.x[1] - r.x[0]) / bounds.height * relmousepos.y + r.x[0],\n        y: (r.y[1] - r.y[0]) / bounds.width * relmousepos.x + r.y[0],\n        z: (r.z[1] - r.z[0]) / bounds.width * relmousepos.x + r.z[0]\n      }\n    };\n    this.DOM.animatable[key].style.WebkitTransform = this.DOM.animatable[key].style.transform = 'translateX(' + transforms.translation.x + 'px) translateY(' + transforms.translation.y + 'px) translateZ(' + transforms.translation.z + 'px) rotateX(' + transforms.rotation.x + 'deg) rotateY(' + transforms.rotation.y + 'deg) rotateZ(' + transforms.rotation.z + 'deg)';\n  }\n};\n\nwindow.TiltFx = TiltFx;","map":{"version":3,"sources":["/Users/furkan/Documents/AD-S3/AD_portfolio/projectsPortfolio/src/TiltHovers/TiltEngine.js"],"names":["anime","extend","a","b","key","hasOwnProperty","getMousePos","ef","posx","posy","window","event","pageX","pageY","clientX","clientY","document","body","scrollLeft","documentElement","scrollTop","x","y","TiltFx","el","options","DOM","_init","prototype","movement","imgWrapper","translation","z","rotation","reverseAnimation","duration","easing","elasticity","lines","caption","shine","animatable","querySelector","overlay","_initEvents","self","mouseenterFn","remove","mousemoveFn","ev","requestAnimationFrame","_layout","mouseleaveFn","undefined","targets","scaleX","scaleY","scaleZ","translateX","translateY","translateZ","rotateX","rotateY","rotateZ","addEventListener","mousepos","docScrolls","left","top","bounds","getBoundingClientRect","relmousepos","t","r","setRange","obj","k","transforms","width","height","style","WebkitTransform","transform"],"mappings":"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","sourcesContent":["\timport anime from 'animejs';\n\n\tfunction extend( a, b ) {\n\t\tfor( var key in b ) {\n\t\t\tif( b.hasOwnProperty( key ) ) {\n\t\t\t\ta[key] = b[key];\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t}\n\n\t// from http://www.quirksmode.org/js/events_properties.html#position\n\texport function getMousePos(ef) {\n\t\tvar posx = 0, posy = 0;\n\t\tif (!ef) var ef = window.event;\n\t\tif (ef.pageX || ef.pageY) \t{\n\t\t\tposx = ef.pageX;\n\t\t\tposy = ef.pageY;\n\t\t}\n\t\telse if (ef.clientX || ef.clientY) \t{\n\t\t\tposx = ef.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\tposy = ef.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t}\n\t\treturn { x : posx, y : posy }\n\t}\n\n\t/**\n\t * TiltFx obj.\n\t */\n\texport default function TiltFx(el, options) {\n\t\tthis.DOM = {};\n\t\tthis.DOM.el = el;\n\t\tthis.options = extend({}, this.options);\n\t\textend(this.options, options);\n\t\tthis._init();\n\t}\n\n\tTiltFx.prototype.options = {\n\t\tmovement: {\n\t\t\timgWrapper : {\n\t\t\t\ttranslation : {x: 0, y: 0, z: 0},\n\t\t\t\trotation : {x: -5, y: 5, z: 0},\n\t\t\t\treverseAnimation : {\n\t\t\t\t\tduration : 1200,\n\t\t\t\t\teasing : 'easeOutElastic',\n\t\t\t\t\telasticity : 600\n\t\t\t\t}\n\t\t\t},\n\t\t\tlines : {\n\t\t\t\ttranslation : {x: 10, y: 10, z: [0,10]},\n\t\t\t\treverseAnimation : {\n\t\t\t\t\tduration : 1000,\n\t\t\t\t\teasing : 'easeOutExpo',\n\t\t\t\t\telasticity : 600\n\t\t\t\t}\n\t\t\t},\n\t\t\tcaption : {\n\t\t\t\ttranslation : {x: 20, y: 20, z: 0},\n\t\t\t\trotation : {x: 0, y: 0, z: 0},\n\t\t\t\treverseAnimation : {\n\t\t\t\t\tduration : 1500,\n\t\t\t\t\teasing : 'easeOutElastic',\n\t\t\t\t\telasticity : 600\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\toverlay : {\n\t\t\t\ttranslation : {x: 10, y: 10, z: [0,50]},\n\t\t\t\treverseAnimation : {\n\t\t\t\t\tduration : 500,\n\t\t\t\t\teasing : 'easeOutExpo'\n\t\t\t\t}\n\t\t\t},\n\t\t\t*/\n\t\t\tshine : {\n\t\t\t\ttranslation : {x: 50, y: 50, z: 0},\n\t\t\t\treverseAnimation : {\n\t\t\t\t\tduration : 1200,\n\t\t\t\t\teasing : 'easeOutElastic',\n\t\t\t\t\telasticity: 600\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Init.\n\t */\n\tTiltFx.prototype._init = function() {\n\t\tthis.DOM.animatable = {};\n\t\tthis.DOM.animatable.imgWrapper = this.DOM.el.querySelector('.tilter__figure');\n\t\tthis.DOM.animatable.lines = this.DOM.el.querySelector('.tilter__deco--lines');\n\t\tthis.DOM.animatable.caption = this.DOM.el.querySelector('.tilter__caption');\n\t\tthis.DOM.animatable.overlay = this.DOM.el.querySelector('.tilter__deco--overlay');\n\t\tthis.DOM.animatable.shine = this.DOM.el.querySelector('.tilter__deco--shine > div');\n\t\tthis._initEvents();\n\t};\n\n\t/**\n\t * Init/Bind events.\n\t */\n\tTiltFx.prototype._initEvents = function() {\n\t\tvar self = this;\n\n\t\tthis.mouseenterFn = function() {\n\t\t\tfor(var key in self.DOM.animatable) {\n\t\t\t\tanime.remove(self.DOM.animatable[key]);\n\t\t\t}\n\t\t};\n\n\t\tthis.mousemoveFn = function(ev) {\n\t\t\trequestAnimationFrame(function() { self._layout(ev); });\n\t\t};\n\n\t\tthis.mouseleaveFn = function(ev) {\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tfor(var key in self.DOM.animatable) {\n\t\t\t\t\tif( self.options.movement[key] == undefined ) {continue;}\n\t\t\t\t\tanime({\n\t\t\t\t\t\ttargets: self.DOM.animatable[key],\n\t\t\t\t\t\tduration: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.duration || 0 : 1,\n\t\t\t\t\t\teasing: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.easing || 'linear' : 'linear',\n\t\t\t\t\t\telasticity: self.options.movement[key].reverseAnimation != undefined ? self.options.movement[key].reverseAnimation.elasticity || null : null,\n\t\t\t\t\t\tscaleX: 1,\n\t\t\t\t\t\tscaleY: 1,\n\t\t\t\t\t\tscaleZ: 1,\n\t\t\t\t\t\ttranslateX: 0,\n\t\t\t\t\t\ttranslateY: 0,\n\t\t\t\t\t\ttranslateZ: 0,\n\t\t\t\t\t\trotateX: 0,\n\t\t\t\t\t\trotateY: 0,\n\t\t\t\t\t\trotateZ: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tthis.DOM.el.addEventListener('mousemove', this.mousemoveFn);\n\t\tthis.DOM.el.addEventListener('mouseleave', this.mouseleaveFn);\n\t\tthis.DOM.el.addEventListener('mouseenter', this.mouseenterFn);\n\t};\n\n\tTiltFx.prototype._layout = function(ev) {\n\t\t// Mouse position relative to the document.\n\t\tvar mousepos = getMousePos(ev),\n\t\t\t// Document scrolls.\n\t\t\tdocScrolls = {left : document.body.scrollLeft + document.documentElement.scrollLeft, top : document.body.scrollTop + document.documentElement.scrollTop},\n\t\t\tbounds = this.DOM.el.getBoundingClientRect(),\n\t\t\t// Mouse position relative to the main element (this.DOM.el).\n\t\t\trelmousepos = { x : mousepos.x - bounds.left - docScrolls.left, y : mousepos.y - bounds.top - docScrolls.top };\n\n\t\t// Movement settings for the animatable elements.\n\t\tfor(var key in this.DOM.animatable) {\n\t\t\tif( this.DOM.animatable[key] == undefined || this.options.movement[key] == undefined ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar t = this.options.movement[key] != undefined ? this.options.movement[key].translation || {x:0,y:0,z:0} : {x:0,y:0,z:0},\n\t\t\t\tr = this.options.movement[key] != undefined ? this.options.movement[key].rotation || {x:0,y:0,z:0} : {x:0,y:0,z:0},\n\t\t\t\tsetRange = function (obj) {\n\t\t\t\t\tfor(var k in obj) {\n\t\t\t\t\t\tif( obj[k] == undefined ) {\n\t\t\t\t\t\t\tobj[k] = [0,0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( typeof obj[k] === 'number' ) {\n\t\t\t\t\t\t\tobj[k] = [-1*obj[k],obj[k]];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tsetRange(t);\n\t\t\tsetRange(r);\n\n\t\t\tvar transforms = {\n\t\t\t\ttranslation : {\n\t\t\t\t\tx: (t.x[1]-t.x[0])/bounds.width*relmousepos.x + t.x[0],\n\t\t\t\t\ty: (t.y[1]-t.y[0])/bounds.height*relmousepos.y + t.y[0],\n\t\t\t\t\tz: (t.z[1]-t.z[0])/bounds.height*relmousepos.y + t.z[0],\n\t\t\t\t},\n\t\t\t\trotation : {\n\t\t\t\t\tx: (r.x[1]-r.x[0])/bounds.height*relmousepos.y + r.x[0],\n\t\t\t\t\ty: (r.y[1]-r.y[0])/bounds.width*relmousepos.x + r.y[0],\n\t\t\t\t\tz: (r.z[1]-r.z[0])/bounds.width*relmousepos.x + r.z[0]\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.DOM.animatable[key].style.WebkitTransform = this.DOM.animatable[key].style.transform = 'translateX(' + transforms.translation.x + 'px) translateY(' + transforms.translation.y + 'px) translateZ(' + transforms.translation.z + 'px) rotateX(' + transforms.rotation.x + 'deg) rotateY(' + transforms.rotation.y + 'deg) rotateZ(' + transforms.rotation.z + 'deg)';\n\t\t}\n\t};\n\n\twindow.TiltFx = TiltFx;\n"]},"metadata":{},"sourceType":"module"}